@using CleverWeb.Features.Contribuicao.ViewModels
@using System.Globalization
@model IEnumerable<ContribuicaoViewModel>

@{
    ViewData["Title"] = "Contribuições";
}

<h2 class="mb-3 fw-bold text-primary">
    <i class="bi bi-graph-up-arrow text-primary"></i> Histórico de Contribuições
</h2>


<!-- FAB: Relatório -->
<a asp-action="Relatorio"
   asp-controller="Contribuicao"
   class="fab-action bg-primary"
   aria-label="Gerar relatório">
    <i class="bi bi-file-earmark-pdf"></i>
</a>

<div class="list-group list-group-flush">
    @foreach (var item in Model)
    {
        <a asp-action="Details"
           asp-controller="Contribuicao"
           asp-route-id="@item.Id"
           class="list-group-item list-group-item-action py-3">

            <div class="d-flex align-items-center">
                <div class="flex-grow-1">
                    <!-- Nome do membro -->
                    <div class="fw-semibold text-dark">
                        @item.Membro.Nome
                    </div>

                    <!-- Detalhes -->
                    <small class="text-muted d-block">
                        @item.TipoContribuicao • @item.FormaPagto
                    </small>

                    <small class="text-muted">
                        <i class="bi bi-calendar3"></i>
                        @item.DataPagamento.ToString("dd/MM/yyyy")
                    </small>
                </div>

                <!-- Valor -->
                <div class="text-end ms-3">
                    <span class="fw-bold text-success">
                        @item.Valor.ToString("C", new CultureInfo("pt-BR"))
                    </span>
                </div>
            </div>
        </a>
    }
</div>


<!-- CSS -->
<style>
    /* Floating Action Button */
    .fab-action {
        position: fixed;
        bottom: 80px;
        right: 16px;
        width: 56px;
        height: 56px;
        border-radius: 50%;
        color: #fff;
        font-size: 24px;
        box-shadow: 0 6px 12px rgba(0,0,0,.25);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        transition: transform .2s ease, box-shadow .2s ease;
    }

        .fab-action:active {
            transform: scale(.95);
        }

    /* Lista */
    .list-group-item {
        border: 0;
        border-bottom: 1px solid #eee;
    }

    /* Desktop refinamento */
    media (min-width: 768px) {
        .fab-action

    {
        bottom: 40px;
        right: 40px;
    }

    .list-group-item {
        border-radius: 8px;
        margin-bottom: 8px;
        border: 1px solid #eee;
    }
</style>